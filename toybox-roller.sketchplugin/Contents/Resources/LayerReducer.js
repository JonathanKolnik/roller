!function(e){var r={};function t(a){if(r[a])return r[a].exports;var n=r[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,t),n.l=!0,n.exports}t.m=e,t.c=r,t.d=function(e,r,a){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=0)}([function(e,r){function t(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}Object.defineProperty(r,"__esModule",{value:!0});var a=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},n={layers:{},layerMap:{},activeLayer:null,page:{errors:0,trends:0}};function u(e,r){var t=_.flatten(_.values(r)),n=_.groupBy(t,"primary"),u={};_.each(n,function(e,r){u[r]=_.groupBy(e,"prop")});var o=_.groupBy(t,"prop");return o=_.each(o,function(e,r){return o[r]=_.groupBy(e,"primary")}),a({},e,{trendByProp:o,trendByColor:u,layers:n,layerMap:r})}function o(e,r){var t=_.groupBy(r.data,"id");return u(e,t=a({},e.layerMap,t))}function c(e,r){return e=o(e,r),a({},e,{activeLayer:r.data[0]})}r.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,r=arguments[1],p=void 0;switch(r.type){case"RESET_LAYERS":return a({},e,{layerMap:{}});case"SET_LAYERS":return o(e,r);case"SET_ACTIVE_LAYER":return c(e,r);case"SET_ACTIVE_LAYER_SKETCH":return c(a({},e,{selected:!0}),r);case"SET_ACTIVE_LAYER_ID":return a({},e,{selected:!1,activeLayer:r.data});case"CLEAR_LAYER":return delete(p=e.layerMap)[r.data],u(e,p);case"NEXT_PAGE":return a({},e,{page:a({},e.page,t({},r.tab,e.page[r.tab]+1))});case"PREV_PAGE":return a({},e,{page:a({},e.page,t({},r.tab,e.page[r.tab]-1))});default:return e}}}]);
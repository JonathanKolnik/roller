!function(e){var r={};function t(a){if(r[a])return r[a].exports;var n=r[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,t),n.l=!0,n.exports}t.m=e,t.c=r,t.d=function(e,r,a){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=0)}([function(e,r){Object.defineProperty(r,"__esModule",{value:!0});var t=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},a={layers:{},layerMap:{},activeLayer:null,page:0};function n(e,r){var a=_.flatten(_.values(r)),n=_.groupBy(a,"primary"),u={};_.each(n,function(e,r){u[r]=_.groupBy(e,"prop")});var o=_.groupBy(a,"prop");return o=_.each(o,function(e,r){return o[r]=_.groupBy(e,"primary")}),t({},e,{trendByProp:o,trendByColor:u,layers:n,layerMap:r})}function u(e,r){var a=_.groupBy(r.data,"id");return n(e,a=t({},e.layerMap,a))}function o(e,r){return e=u(e,r),t({},e,{activeLayer:r.data[0]})}r.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,r=arguments[1],c=void 0;switch(r.type){case"SET_LAYERS":return u(e,r);case"SET_ACTIVE_LAYER":return o(e,r);case"SET_ACTIVE_LAYER_SKETCH":return o(t({},e,{selected:!0}),r);case"SET_ACTIVE_LAYER_ID":return t({},e,{selected:!1,activeLayer:r.data});case"CLEAR_LAYER":return delete(c=e.layerMap)[r.data],n(e,c);case"NEXT_PAGE":return t({},e,{page:e.page+1});case"PREV_PAGE":return t({},e,{page:e.page-1});default:return e}}}]);